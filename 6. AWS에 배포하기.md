## 0. 들어가기 전...

### 1) SSR이란

### 2) babel 이란

### 3) webpack 이란



## 1. 개별포스트 SSR하기



## 2. 빌드

### 1.

### 2. analyze 적용하기

### 0) analyze

- 공식문서: https://ko.nuxtjs.org/api/configuration-build/

### 1) analyze 설정

```js

```

### 2) analyze 적용 전

```bash
Hash: 0efad37c3397b7619169        
Version: webpack 4.41.5
Time: 22734ms
Built at: 2020-01-19 17:56:30     
                  Asset       Size  Chunks                         Chunk Names
48731a572d0e85b4dd51.js   11.6 KiB       5  [emitted] [immutable]  pages_signup
4df955e9578cdfc402a0.js   79.8 KiB       1  [emitted] [immutable]  pages_hashtag__id_index
61efa271ba6eaf06a4d7.js   32.6 KiB       4  [emitted] [immutable]  pages_profile
73c76f8d290e34f159e6.js   80.5 KiB       6  [emitted] [immutable]  pages_user__id_index
83f01facfbef1133d98f.js   95.7 KiB       2  [emitted] [immutable]  pages_index
fce56402e57d4fbd964a.js   79.4 KiB       3  [emitted] [im              server.js    432 KiB       0  [emitted]              app
   server.manifest.json  435 bytes          [emitted]
Entrypoint app = server.js
```

### 3) analyze 적용 후 추가되는 문구

```
Webpack Bundle Analyzer saved report to C:\GIT\MY_Github\2. vue-nodebird\ch6\front\.nuxt\stats\client.html
Webpack Bundle Analyzer saved stats file to C:\GIT\MY_Github\2. vue-nodebird\ch6\front\.nuxt\stats\client.json
```

### 4) 적용 후 화면



## 3. meta태그와 SSR

- npm start를 하고, network 탭에서 local의 Headers 부분을 보면 아래와 같이 gzip 형식으로 인코딩 된 것을 알 수 있다. (압축이 잘 되었다는 뜻)

```

- Response Headers
Request URL: http://localhost:3081/
Request Method: GET
Status Code: 200 OK
Remote Address: 127.0.0.1:3081
Referrer Policy: no-referrer-when-downgrade
Accept-Ranges: none
Connection: keep-alive
Content-Encoding: gzip
Content-Type: text/html; charset=utf-8
Date: Sun, 19 Jan 2020 09:51:42 GMT
ETag: "4d78c-dGBN4A6yR4VixkRmFQp+Dz/tHtk"
Transfer-Encoding: chunked
Vary: Accept-Encoding
```



## 4. Favicon과 static 폴더 생성



## 5. 도메인 생성 후 Route 53에 등록



## 6. EC2 생성 후 프론트/백엔드 등록

### 0) ubuntu 기본 설치

- `sudo su`
- `sudo apt-get update`
- `sudo apt-get install -y build-essential`
- `(sudo apt-get install curl)`
- `curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash --`
- `sudo apt-get install -y nodejs`
- `node -v`, `npm -v` 로 버전나오는지 확인
- 백엔드의 경우
  - `sudo apt-get install -y mysql-server`
  - `mysql_secure_installation`
  - `mysql -u root -p`

### 1) 프론트 등록하기

- 프론트 인스턴스 접근: `ssh -i "namshter.pem" ubuntu@ec2-3-20-125-129.us-east-2.compute.amazonaws.com`
- 프론트 배포 고정IP주소: http://3.20.125.129/

### 2) 백엔드 등록하기

- 백엔드 인스턴스 접근: `ssh -i "namshter.pem" ubuntu@ec2-3-135-13-152.us-east-2.compute.amazonaws.com`
-    Client does not support authentication protocol requested by server; consider upgrading MySQL client 에러가 발생한다면 아래를 입력한다. 
-   mysql 나가는 건 `exit;`

```mysql
mysql> ALTER USER root@localhost IDENTIFIED WITH mysql_native_password BY '비밀번호';
```

- ~~
- ~~
- `3.135.13.152` 주소로 들어가면 `여기는 백엔드`와 함께 연결이 되었다.

### 3) d

### 4) 

### 5) AWS 등록시 resion

- https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/using-regions-availability-zones.html

### 6) S3 bucket PUBLIC으로 변경

```json
{
  "Version": "2012-10-17",
  "Statement": [
      {
          "Sid": "AddPerm",
          "Effect": "Allow",
          "Principal": "*",
          "Action": [
              "s3:GetObject",
              "s3:PutObject"
          ],
          "Resource": "arn:aws:s3:::namshter/*"
      }
  ]
}
```

